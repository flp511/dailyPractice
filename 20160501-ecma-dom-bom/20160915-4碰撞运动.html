<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>作业9-15-4碰撞运动</title>
<style>
*{margin:0;padding:0;}
#div1{width:100px;height:100px;background:red;position:absolute;}
</style>
<script>
	
var timer=null;
var iSpeedX=25;
var iSpeedY=9;
function startMove(){
	var oDiv=document.getElementById('div1');
	
	clearInterval(timer);
	timer=setInterval(function(){
		iSpeedY+=2;//重力
		var l=oDiv.offsetLeft+iSpeedX;
		var t=oDiv.offsetTop+iSpeedY;
		
		if(l>=document.documentElement.clientWidth-oDiv.offsetWidth){
			iSpeedX*=-0.8;
			iSpeedY*=0.8;
			l=document.documentElement.clientWidth-oDiv.offsetWidth
		}else if(l<0){
			iSpeedX*=-0.8;
			iSpeedY*=0.8;
			l=0;
		};
		if(t>=document.documentElement.clientHeight-oDiv.offsetHeight){
			iSpeedY*=-0.8;
			iSpeedX*=0.8;
			t=document.documentElement.clientHeight-oDiv.offsetHeight
		}else if(t<0){
			iSpeedY*=-0.8;
			iSpeedX*=0.8;
			t=0;
		};
		if(Math.abs(iSpeedX)<1){//避免小数问题
			iSpeedX=0;
		}else if(Math.abs(iSpeedY)<1){
			iSpeedY=0;
		};
		
		oDiv.style.left=l+'px';
		oDiv.style.top=t+'px';
	},30);
};
	
</script>
</head>
<body>
<input type="button" id="btn" value="开始" onclick="startMove()"/>
<div id="div1"></div>

</body>
</html>
