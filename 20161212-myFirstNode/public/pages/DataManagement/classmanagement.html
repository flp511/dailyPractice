<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>班级管理</title>
    <link rel="stylesheet" href="../../css/bootstrap.css"/>
    <link rel="stylesheet" href="../../css/data-base.css"/>

    <script src="../../js/jquery-3.1.1.js"></script>
    <script src="../../js/layer/layer.js"></script>
    <script src="../../js/bootstrap.js"></script>
</head>
<body>
<!-- Modal -->
<div class="fullbox">
<h1 class="col-sm-12 col-xs-12"><span class="glycolor glyphicon glyphicon-align-left"></span>&nbsp;班级管理</h1>
<div class="modal fade" id="myClass" tabindex="-1" role="dialog"
     aria-labelledby="myClassLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myClassLabel">班级</h4>
            </div>
            <div class="modal-body">
                <form method="post" action="#" id="classForm" class="form-horizontal">
                    <div class="form-group">
                        <label>班级名称：</label>
                        <div>
                            <input type="text" id="className" class="form-control">
                        </div>
                    </div>
                    <div class="form-group">
                        <lable>主班老师姓名：</lable>
                        <input type="text" id="teacherName" class="form-control">
                    </div>
                    <div class="form-group">
                        <lable>班级级别：</lable>
                        <select class="form-control" id="classLeven">
                            <option>大班</option>
                            <option>小班</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <lable>副班老师：</lable>
                        <input type="text" id="vic-teacherName" class="form-control">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="submit" id="editSave"  class="btn btn-success">保存变更</button>
            </div>
        </div>
    </div>
</div>
<!--end Modal-->
<!-- Modal -->
<div class="modal fade" id="myStudent" tabindex="-1" role="dialog"
     aria-labelledby="myStudentLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myStudentLabel">员工信息</h4>
            </div>
            <div class="modal-body">
                <table class="table table-striped table-bordered">
                    <thead class="data-tabhead">
                    <tr>
                        <td>学号</td>
                        <td>姓名</td>
                        <td>性别</td>
                        <td>家长姓名</td>
                        <td>班级</td>
                        <td>家长联系方式</td>
                        <td>激活状态</td>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>005</td>
                        <td>张三</td>
                        <td>男</td>
                        <td>张大</td>
                        <td>sky一班</td>
                        <td>125468545663214</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>006</td>
                        <td>里三</td>
                        <td>男</td>
                        <td>里大</td>
                        <td>sky一班</td>
                        <td>125468545663214</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>007</td>
                        <td>王三</td>
                        <td>男</td>
                        <td>王大</td>
                        <td>sky一班</td>
                        <td>125468545663214</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>008</td>
                        <td>亿三</td>
                        <td>男</td>
                        <td>亿大</td>
                        <td>sky一班</td>
                        <td>125468545663214</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>008</td>
                        <td>五三</td>
                        <td>男</td>
                        <td>五大</td>
                        <td>sky一班</td>
                        <td>125468545663214</td>
                        <td>1</td>
                    </tr>
                    </tbody>
                </table>
                <div class="data-divpage">
                    <span>上一页</span>
                    <a href="javascript:;">1</a>
                    <a href="javascript:;">2</a>
                    <a href="javascript:;">3</a>
                    <a href="javascript:;">4</a>
                    <a href="javascript:;">5</a>
                    ....
                    <a href="javascript:;">9</a>
                    <span>下一页</span>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
            </div>
        </div>
    </div>
</div>
<!--end Modal-->
<!-- Modal -->
<div class="modal fade" id="myAddclass" tabindex="-1" role="dialog"
     aria-labelledby="myAddclassLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myAddclassLabel">班级</h4>
            </div>
            <div class="modal-body">
                <form action="post">
                    <div class="form-group">
                        <lable>班级名称：</lable>
                        <input type="text" id="addclassName" class="form-control">
                    </div>
                    <div class="form-group">
                        <lable>主班老师姓名：</lable>
                        <input type="text" id="addteacherName" class="form-control">
                    </div>
                    <div class="form-group">
                        <lable>班级级别：</lable>
                        <select class="form-control" id="addclassLeven">
                            <option>大班</option>
                            <option>小班</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <lable>副班老师：</lable>
                        <input type="text" id="addvic-teacherName" class="form-control">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" id="saveAdd" class="btn btn-success">保存变更</button>
            </div>
        </div>
    </div>
</div>
<!--end Modal-->
<div class="data-contexte">
    <!--搜索框-->
    <div class="data-secr">
        <form action="post" class="form-inline">
            <div class="form-group">
                <lable>班级名称：</lable>
                <input type="text" class="form-control">
            </div>
            <div class="form-group">
                <lable>主班老师姓名：</lable>
                <input type="text" class="form-control">
            </div>
            <div class="form-group">
                <lable>班级级别：</lable>
                <input type="text" class="form-control">
            </div>
            <span class="data-pointer">
                <span class="glyphicon glyphicon-search glyphicon data-pointer"></span>
                搜索
            </span>


        </form>
    </div>
    <!--end搜索框-->
    <!--数据表格-->
    <div class="table-responsive data-tableRadius">
        <table class="table table-striped table-bordered">
            <thead class="data-tabhead">
            <tr>
                <td>班级名称</td>
                <td>主班老师姓名</td>
                <td>班级级别</td>
                <td>副班老师</td>
                <td>编辑</td>
                <td>查看成员</td>
                <td>删除</td>
            </tr>
            </thead>
            <tbody id="mytbody">
            <tr>
                <td>sky一班</td>
                <td>张三</td>
                <td>小班</td>
                <td>张二</td>
                <td>
                    <div class="data-edit" data-toggle="modal" onclick='edit(this)' data-target="#myClass">编辑</div>
                </td>
                <td><div class="data-SD" data-toggle="modal" data-target="#myStudent">查看成员</div></td>
                <td><div class="data-SD data-dele" onclick="del(this)">删除</div> </td>
            </tr>
            <tr>
                <td>sky二班</td>
                <td>酷三</td>
                <td>小班</td>
                <td>李二</td>
                <td>
                   <div class="data-edit" data-toggle="modal" onclick='edit(this)' data-target="#myClass">编辑</div>
                </td>
                <td><div class="data-SD" data-toggle="modal" data-target="#myStudent">查看成员</div></td>
                <td><div class="data-SD data-dele" onclick="del(this)">删除</div> </td>
            </tr>
            <tr>
                <td>sky三班</td>
                <td>网无</td>
                <td>小班</td>
                <td>网一</td>
                <td>
                   <div class="data-edit" data-toggle="modal" onclick='edit(this)' data-target="#myClass">编辑</div>
                </td>
                <td><div class="data-SD" data-toggle="modal" data-target="#myStudent">查看成员</div></td>
                <td><div class="data-SD data-dele" onclick="del(this)">删除</div> </td>
            </tr>
            <tr>
                <td>sky一班</td>
                <td>张三</td>
                <td>小班</td>
                <td>张二</td>
                <td>
                   <div class="data-edit" data-toggle="modal" onclick='edit(this)' data-target="#myClass">编辑</div>
                </td>
                <td><div class="data-SD" data-toggle="modal" data-target="#myStudent">查看成员</div></td>
                <td><div class="data-SD data-dele" onclick="del(this)">删除</div> </td>
            </tr>
            <tr>
                <td>sky一班</td>
                <td>张三</td>
                <td>小班</td>
                <td>张二</td>
                <td>
                   <div class="data-edit" data-toggle="modal" onclick='edit(this)' data-target="#myClass">编辑</div>
                </td>
                <td><div class="data-SD" data-toggle="modal" data-target="#myStudent">查看成员</div></td>
                <td><div class="data-SD data-dele" onclick="del(this)">删除</div> </td>
            </tr>
            <tr>
                <td>sky一班</td>
                <td>张三</td>
                <td>小班</td>
                <td>张二</td>
                <td>
                   <div class="data-edit" data-toggle="modal" onclick='edit(this)' data-target="#myClass">编辑</div>
                </td>
                <td><div class="data-SD" data-toggle="modal" data-target="#myStudent">查看成员</div></td>
                <td><div class="data-SD data-dele">删除</div> </td>
            </tr>
            </tbody>
        </table>
        <div class="data-divpage">
            <span>上一页</span>
            <a href="javascript:;">1</a>
            <a href="javascript:;">2</a>
            <a href="javascript:;">3</a>
            <a href="javascript:;">4</a>
            <a href="javascript:;">5</a>
            ....
            <a href="javascript:;">9</a>
            <span>下一页</span>
        </div>
    </div>

    <button class="data-edit data-bw btn btn-success" data-toggle="modal" data-target="#myAddclass">新增班级</button>

</div>
</div>
</body>
<script>
    //删除
    function del(obj){
        layer.open({
            title: '警告！'
            ,content: '确定删除吗？'
            ,btn:['确定','取消']
            ,offset:'20%'
            ,yes:function(index,layero){
                $(obj).parent().parent().remove();
                layer.close(index)
            }
        });
    }
    //编辑
    function edit(obj) {
        var className=$(obj).parent().parent().find('td:nth-child(1)').text();
        var teacherName=$(obj).parent().parent().find('td:nth-child(2)').text();
        var classLeven=$(obj).parent().parent().find('td:nth-child(3)').text();
        var vicTeacherName=$(obj).parent().parent().find('td:nth-child(4)').text();
        $('#className').val(className);
        $('#teacherName').val(teacherName);
        $('#classLeven').val(classLeven);
        $('#vic-teacherName').val(vicTeacherName);
        $('tr').attr('active','0');
        $(obj).parent().parent().attr('active','1');
    }
    //编辑保存
    function editSave(){
        var className=$('#className').val();
        var teacherName=$('#teacherName').val();
        var classLeven=$('#classLeven').val();
        var vicTeacherName=$('#vic-teacherName').val();
        $('tr').each(function(i){
           if($(this).attr('active')=='1'){
               $(this).find('td:nth-child(1)').text(className);
               $(this).find('td:nth-child(2)').text(teacherName);
               $(this).find('td:nth-child(3)').text(classLeven);
               $(this).find('td:nth-child(4)').text(vicTeacherName);
           }
        })

    }
    //新增
    $('#saveAdd').click(function () {
        layer.open({
            title: '警告！'
            ,content: '确定保存变更吗？'
            ,btn:['确定','取消']
            ,offset:'20%'
            ,yes:function(index,layero){
                var className= $('#addclassName').val();
                var teacherName= $('#addteacherName').val();
                var classLeven=$('#addclassLeven').val();
                var vicTeacherName= $('#addvic-teacherName').val();
                var a=" <tr><td>"+className+"</td> <td>"+teacherName+"</td> <td>"+classLeven+"</td> <td>"+vicTeacherName+"</td> <td> <div class='data-edit' data-toggle='modal' data-target='#myClass' onclick='edit(this)'>编辑</div> </td> <td><div class='data-SD' data-toggle='modal' data-target='#myStudent'>查看成员</div></td> <td><div class='data-SD data-dele' onclick='del(this)'>删除</div> </td> </tr>"
                $('#mytbody').append(a);
                layer.close(index)
            }
        });

    });
    layer.config({
        skin: 'layui-layer-molv'
    })
    //编辑保存弹出层
    $('#editSave').on('click',function(){
        layer.open({
            title: '警告！'
            ,content: '确定保存变更吗？'
            ,btn:['确定','取消']
            ,offset:'20%'
            ,yes:function(index,layero){
                editSave();
                layer.close(index)
            }
        });
    });
</script>
</html>